(function(n){function u(){location.reload(!0)}function f(n,t){abp.message.confirm(abp.utils.formatString(abp.localization.localize("AreYouSureWantToDelete","AbpProjectName"),t),function(t){t&&r.delete({id:n}).done(function(){u()})})}var r=abp.services.app.tenant,t=n("#TenantCreateModal"),i=t.find("form");n("#RefreshButton").click(function(){u()});n(".delete-tenant").click(function(){var t=n(this).attr("data-tenant-id"),i=n(this).attr("data-tenancy-name");f(t,i)});n(".edit-tenant").click(function(t){var i=n(this).attr("data-tenant-id");t.preventDefault();abp.ajax({url:abp.appPath+"Tenants/EditTenantModal?tenantId="+i,type:"POST",dataType:"html",success:function(t){n("#TenantEditModal div.modal-content").html(t)},error:function(){}})});i.find('button[type="submit"]').click(function(n){if(n.preventDefault(),i.valid()){var u=i.serializeFormToObject();abp.ui.setBusy(t);r.create(u).done(function(){t.modal("hide");location.reload(!0)}).always(function(){abp.ui.clearBusy(t)})}});t.on("shown.bs.modal",function(){t.find("input:not([type=hidden]):first").focus()})})(jQuery);